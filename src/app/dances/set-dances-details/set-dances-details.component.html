<mat-spinner *ngIf="isLoading"></mat-spinner>
<div class="error" *ngIf="hasError">
  <div>Dance not implemented, come back later...</div>
</div>
<mat-tab-group *ngIf="dance">
  <mat-tab *ngFor="let figure of dance.figures; let figureNumber = index;" label="Figure {{figureNumber+1}}">
    <mat-card class="mat-elevation-z1">
        <mat-card-title>{{figure.name}}</mat-card-title>
        <mat-card-subtitle>
          <mat-chip-list >
            <mat-chip selected="true" color="primary">{{figure.style | capitalize}}</mat-chip>
            <mat-chip>{{figure.duration}} bars</mat-chip>
          </mat-chip-list>
        </mat-card-subtitle>
        <mat-card-content>
          <mat-list>
            <ng-container *ngFor="let movement of figure.movements; let movementNumber = index;">
              <div class="separator"><mat-divider></mat-divider></div>
              <div class="group-movement" *ngFor="let group of movement; let groupNumber = index;">
                <div class="group-number">
                  <span class="primary-text" *ngIf="groupNumber == 0">{{movementNumber+1 + '. '}}</span>
                </div>
                <div class="group-content">
                  <div class="group-header" >
                    <span class="primary-text" *ngIf="group.id !== specialType.REPEAT">{{group.name}}</span>
                    <span class="primary-text" *ngIf="group.id === specialType.REPEAT">Repeat {{group.reference}}</span>
                  </div>
                  <div>{{displayCouples(group.couples)}}</div>
                  <div class="secondary-text" *ngIf="group.description && displayDescriptions">{{group.description}}</div>
                </div>
                <mat-chip-list>
                  <mat-chip>{{group.duration}}</mat-chip>
                </mat-chip-list>
              </div>
            </ng-container>
          </mat-list>
        </mat-card-content>
    </mat-card>
  </mat-tab>
</mat-tab-group>